<div class="content">
  <div style="text-align: left;position: relative;width: 500px;">
<h1 style="margin: 1%;  color: #244688; font-weight:700; font-size:32pt;">
  Due Diligence Checklist
</h1>
<label style="margin-left: 1%; margin-top:1%;color: #244688;font-size:16pt;width: 330px;">Please fill in the following details:</label>
</div>
<mat-stepper [linear]="true"  #stepper style="background-color: #eee;" orientation="vertical" (selectionChange)="setFocus(stepper)">
  <mat-step [stepControl]="DueDiligenceChecklistDetailsFormGroup" >
    <form [formGroup]="DueDiligenceChecklistDetailsFormGroup" style="text-align: -webkit-center;" class="table-responsive">
      <ng-template matStepLabel>DUE DILIGENCE CHECKLIST DETAILS</ng-template>
      <table class="table" style="background-color: white;border:1px solid #244688;border-bottom: white;" id="8">
        <tr>
            <td><label >Do you have a physical copy of the Due Diligence Checklist?</label></td>
            <td> 
                  <mat-checkbox formControlName="HasDDC"></mat-checkbox>
            </td>
        </tr>
    </table>  
    <div  style="background-color: white;display: flex;border:1px solid #244688;border-top:0px solid white;width: 810px;justify-content: center;">
      <button id="btnHover" mat-raised-button style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;" (click)="CancelAddDetails()"> Cancel</button>
          <button mat-raised-button matStepperNext style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;background-color: #94CC5B;" > Next </button>
       </div>      
    </form>
  </mat-step>
  <mat-step [stepControl]="FoundationaldocumentsFormGroup" >
    <form [formGroup]="FoundationaldocumentsFormGroup" style="text-align: -webkit-center;" class="table-responsive" id="0">
      <ng-template  matStepLabel>FOUNDATIONAL DOCUMENTS</ng-template>
      <table class="table" style="background-color: white;border:1px solid #244688;border-bottom: white;">
          <tr>
              <td><label >Mutual Non-Disclosure Agreement or Confidentiality Agreement:</label></td>
              <td> 
                 <mat-checkbox formControlName="MutualNDA" ></mat-checkbox>
              </td>
          </tr>
          <tr>
              <td> <label>Basic Company Information:</label></td>
              <td>
                  <mat-checkbox formControlName="BasicCompanyInfo" class="MandatorySelect" style="border-color: red;"></mat-checkbox> 
              </td>
          </tr>
          <tr>
              <td> <label>Ownership structure and affiliated entities:</label></td>
              <td>
                  <mat-checkbox formControlName="GroupStructure"></mat-checkbox>
              </td>
          </tr>
          <tr>
              <td> <label>Income tax number:</label></td>
              <td>
                  <mat-checkbox formControlName="IncomeTaxNumber" class="MandatorySelect"></mat-checkbox>
              </td>
          </tr>
          <tr>
              <td><label>VAT number:</label></td>
              <td>
                  <mat-checkbox formControlName="VatNumber" ></mat-checkbox>
              </td>
          </tr>
          
          <tr>
              <td><label>Company registration document:</label></td>
              <td>
                  <mat-checkbox formControlName="CIPC"></mat-checkbox>
              </td>
          </tr>
          <tr>
              <td><label>Letters of good standing COID:</label></td>
              <td>
                  <mat-checkbox formControlName="LetterofGoodStanding"></mat-checkbox>
              </td>
          </tr>
          <tr>
              <td><label>Has BEE?:</label></td>
              <td>
                  <mat-checkbox formControlName="BBBEECertificate"  (click)="onBEEChecked()" checked="{{BEEChecked}}"></mat-checkbox>
              </td>
          </tr>
          <mat-accordion >
            <mat-expansion-panel hideToggle disabled expanded="{{BEEChecked}}" style="margin-left: 10px" >
              <div>
                <div class="row">
                  <div class="col-7">
                    <label style="width: 450px;">BEE level:</label>
                  </div>
                  <div class="col-5">
                    <mat-form-field appearance="outline">
                      <input matInput type="number" formControlName="BEELevel" max="5" min="1" >
                    </mat-form-field> 
                  </div>
                </div>
                <div class="row">
                  <div class="col-7">
                    <label style="width: 450px;">BEE Certificate:</label>
                  </div>
                  <div class="col-5">
                      <input  id="file"  type="file" class="file-upload" (change)="FileAdd(0,$event)" formControlName="BEECertificateDoc" > 
                  </div>
                </div>
                <div class="row">
                  <div class="col-7">
                    <label style="width: 450px;">Date of BEE validity:</label>
                  </div>
                  <div class="col-5">
                    <mat-form-field appearance="outline">
                      <mat-label>Choose a date</mat-label>
                      <input matInput  [matDatepicker]="picker" readonly  formControlName="BEEValidatityDate" [min]="minDate"  (click)="picker.open()" #dateInput >
                      <mat-datepicker-toggle matIconSuffix [for]="picker" >
                      <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                      </mat-datepicker-toggle>
                      <mat-datepicker #picker startView="year" [startAt]="2023/18/18" [disabled]="false"></mat-datepicker>
                    </mat-form-field> 
                  </div>
                </div>
              </div>        
            </mat-expansion-panel>
          </mat-accordion>
          <tr>
              <td> <label>Directors details and ID's:</label></td>
              <td>
                  <mat-checkbox formControlName="DirectorsInfo"></mat-checkbox>
              </td>
          </tr>
          <tr>
              <td> <label>Company Resolution Agreement:</label></td>
              <td>
                  <mat-checkbox formControlName="CompanyResolutionAgreement"></mat-checkbox>
              </td>
          </tr>
      </table>
      <div  style="background-color: white;display: flex;border:1px solid #244688;border-top:0px solid white;width: 810px;justify-content: center;">
        <button id="btnHover" mat-raised-button style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;" matStepperPrevious >Back</button>
        <button mat-raised-button matStepperNext style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;background-color: #94CC5B;" > Next </button>
         </div>
      <!-- <div >
          <button mat-button routerLink="/vendor-view">Cancel</button>
        <button mat-button matStepperNext>Next</button>
      </div> -->
    </form>
  </mat-step>
  <mat-step [stepControl]="FinancialsFormGroup" >
    <form [formGroup]="FinancialsFormGroup" style="text-align: -webkit-center;" class="table-responsive">
      <ng-template matStepLabel >FINANCIALS</ng-template>
      <table class="table" style="background-color: white;border:1px solid #244688;border-bottom: white;" id="1">
          <tr>
              <td><label >VAT Registration Certificate:</label></td>
              <td> 
                  <mat-checkbox formControlName="VATRegistrationCertificate"></mat-checkbox>
              </td>
          </tr>
          <tr>
              <td> <label>Tax Clearance Certificate:</label></td>
              <td>
                    <mat-checkbox formControlName="TaxClearanceCertificate"></mat-checkbox>
              </td>
          </tr>  
          <tr>
            <td> <label>Bank Stamped confirmation letter:</label></td>
            <td>
                  <mat-checkbox formControlName="bank_Stamped_Confirtmation"></mat-checkbox>
            </td>
        </tr>    
      </table>
      
      <div  style="background-color: white;display: flex;border:1px solid #244688;border-top:0px solid white;width: 810px;justify-content: center;">
          <button id="btnHover" mat-raised-button style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;" matStepperPrevious >Back</button>
          <button mat-raised-button matStepperNext style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;background-color: #94CC5B;" > Next </button>
         </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="SubContractingFormGroup" >
      <form [formGroup]="SubContractingFormGroup" style="text-align: -webkit-center;" class="table-responsive">
        <ng-template matStepLabel>SUB-CONTRACTING</ng-template>
        <table class="table" style="background-color: white;border:1px solid #244688;border-bottom: white;" id="2">
          <tr>
              <td><label >Name of sub-contractor:</label></td>
              <td> 
                    <mat-checkbox formControlName="NameSubContractor"></mat-checkbox>
              </td>
          </tr>
          <tr>
              <td> <label>Provide similar documents as for main supplier (In case of company):</label></td>
              <td>
                    <mat-checkbox formControlName="CompanyDetails"></mat-checkbox>    
              </td>
          </tr>
          <tr>
              <td><label>Provide copy of ID, qualifications, accreditations and professional memberships (In case of individual):</label></td>
              <td>              
                  <mat-checkbox formControlName="IndividualDetails"></mat-checkbox> 
              </td>
          </tr>
      </table>  
      <div  style="background-color: white;display: flex;border:1px solid #244688;border-top:0px solid white;width: 810px;justify-content: center;">
          <button id="btnHover" mat-raised-button style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;" matStepperPrevious >Back</button>
          <button mat-raised-button matStepperNext style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;background-color: #94CC5B;" > Next </button>
         </div>      
      </form>
    </mat-step>
    <mat-step [stepControl]="InsuranceFormGroup" >
      <form [formGroup]="InsuranceFormGroup" style="text-align: -webkit-center;" class="table-responsive">
        <ng-template matStepLabel >INSURANCE</ng-template>
        <table class="table" style="background-color: white;border:1px solid #244688;border-bottom: white;" id="3">
          <tr>
              <td><label >General liability insurance:</label></td>
              <td> 
                    <mat-checkbox formControlName="GeneralLiabilityInsurance"></mat-checkbox>
              </td>
          </tr>
          <tr>
            <mat-expansion-panel hideToggle disabled expanded="{{InsuranceFormGroup.get('GeneralLiabilityInsurance').value}}" style="margin-left: 10px" >
                <div class="row">
                  <div class="col-7">
                    <label style="width: 450px;">Please add the General liability Insurance Document:</label>
                  </div>
                  <div class="col-5">
                      <input  id="file"  type="file" class="file-upload" (change)="FileAdd(1,$event)" formControlName="GeneralLiabilityInsuranceDoc" > 
                  </div>
                </div>    
            </mat-expansion-panel>
          </tr>
          <tr>
              <td> <label>Cyber insurance:</label></td>
              <td>
                    <mat-checkbox formControlName="CyberInsurance"></mat-checkbox>    
              </td>
          </tr>
          <tr>
            <mat-expansion-panel hideToggle disabled expanded="{{InsuranceFormGroup.get('CyberInsurance').value}}" style="margin-left: 10px" >
                <div class="row">
                  <div class="col-7">
                    <label style="width: 450px;">Please add the Cyber Insurance Document:</label>
                  </div>
                  <div class="col-5">
                      <input  id="file"  type="file" class="file-upload" (change)="FileAdd(2,$event)" formControlName="CyberInsuranceDoc" > 
                  </div>
                </div>    
            </mat-expansion-panel>
          </tr>
          <tr>
              <td><label>Professional indemnity insurance (if applicable):</label></td>
              <td>              
                  <mat-checkbox formControlName="ProfessionalIndemnityInsurance"></mat-checkbox> 
              </td>
          </tr>
          <tr>
            <mat-expansion-panel hideToggle disabled expanded="{{InsuranceFormGroup.get('ProfessionalIndemnityInsurance').value}}" style="margin-left: 10px" >
                <div class="row">
                  <div class="col-7">
                    <label style="width: 450px;">Please add the Professional Indemnity Insurance Document:</label>
                  </div>
                  <div class="col-5">
                      <input  id="file"  type="file" class="file-upload" (change)="FileAdd(3,$event)" formControlName="ProfessionalIndemnityInsuranceDoc" > 
                  </div>
                </div>    
            </mat-expansion-panel>
          </tr>
          <tr>
            <td><label>Other specific insurance required per service/industry:</label></td>
            <td>              
                <mat-checkbox formControlName="OtherInsurance"></mat-checkbox> 
            </td>
        </tr>
        <tr>
          <mat-expansion-panel hideToggle disabled expanded="{{InsuranceFormGroup.get('OtherInsurance').value}}" style="margin-left: 10px" >
              <div class="row">
                <div class="col-7">
                  <label style="width: 450px;">Please add any Other specific insurance Document:</label>
                </div>
                <div class="col-5">
                    <input  id="file"  type="file" class="file-upload" (change)="FileAdd(4,$event)" formControlName="OtherInsuranceDoc" > 
                </div>
              </div>    
          </mat-expansion-panel>
        </tr>
      </table>  
      <div  style="background-color: white;display: flex;border:1px solid #244688;border-top:0px solid white;width: 810px;justify-content: center;">
          <button id="btnHover" mat-raised-button style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;" matStepperPrevious >Back</button>
          <button mat-raised-button matStepperNext style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;background-color: #94CC5B;" > Next </button>
         </div>      
      </form>
    </mat-step>
    <mat-step [stepControl]="LicensesOrProfessionalAccreditationFormGroup" >
      <form [formGroup]="LicensesOrProfessionalAccreditationFormGroup" style="text-align: -webkit-center;" class="table-responsive">
        <ng-template matStepLabel >LICENSES OR PROFESSIONAL ACCREDITATION</ng-template>
        <table class="table" style="background-color: white;border:1px solid #244688;border-bottom: white;" id="4">
          <tr>
              <td><label >Licenses required:</label></td>
              <td> 
                    <mat-checkbox formControlName="LicensesRequired"></mat-checkbox>
              </td>
          </tr>
          <tr>
              <td> <label>Accreditation required:</label></td>
              <td>
                    <mat-checkbox formControlName="AccreditationRequired"></mat-checkbox>    
              </td>
          </tr>
          <tr>
              <td><label>Professional membership required:</label></td>
              <td>              
                  <mat-checkbox formControlName="ProfessionalMembershipRequired"></mat-checkbox> 
              </td>
          </tr>
      </table>  
      <div  style="background-color: white;display: flex;border:1px solid #244688;border-top:0px solid white;width: 810px;justify-content: center;">
          <button id="btnHover" mat-raised-button style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;" matStepperPrevious >Back</button>
          <button mat-raised-button matStepperNext style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;background-color: #94CC5B;" > Next </button>
         </div>      
      </form>
    </mat-step>
    <mat-step [stepControl]="InformationSecurityFormGroup" >
      <form [formGroup]="InformationSecurityFormGroup" style="text-align: -webkit-center;" class="table-responsive">
        <ng-template matStepLabel >INFORMATION SECURITY</ng-template>
        <table class="table" style="background-color: white;border:1px solid #244688;border-bottom: white;">
          <tr>
              <td><label id="5" >Business continuity plan:</label></td>
              <td> 
                    <mat-checkbox formControlName="BusinessContinuityPlan"></mat-checkbox>
              </td>
          </tr>
          <tr>
              <td> <label>Disaster recovery plan:</label></td>
              <td>
                    <mat-checkbox formControlName="DisasterRecoveryPlan"></mat-checkbox>    
              </td>
          </tr>
          <tr>
              <td><label>Protection of personal information by design:</label></td>
              <td>              
                  <mat-checkbox formControlName="POPI" (click)="onPOPIChecked(stepper)" checked="{{POPIChecked}}"></mat-checkbox> 
              </td>
          </tr>
          <tr>
            <mat-expansion-panel hideToggle disabled expanded="{{POPIChecked}}" style="margin-left: 10px">
              <div>
              <div class="row">
                <div class="col-9">
                  <label>Does the contract set out what personal data is used for what purpose?</label>
                </div>
                <div class="col-3">
                  <mat-checkbox formControlName="Personal_Data_Purpose" class="MandatorySelect"></mat-checkbox>
                </div> 
              </div>
              <div class="row">
                <div class="col-9">
                  <label>Is the contracted partner a controller (C), joint controller (JC), processor (P) or sub-processor (SP)?</label>
                </div>
                <div class="col-3">
                  <mat-form-field style="width: 200px;">
                    <mat-select formControlName="Contracted_Partner_Type_ID" placeholder="<strong> Controller (C) </strong" style="font-size: 12px;font-weight: 400;">
                      <mat-option value="1">Controller (C)</mat-option>
                      <mat-option value="2">Joint Controller (JC)</mat-option>
                      <mat-option value="3">Processor (P)</mat-option>
                      <mat-option value="4">Sub-Processor (SP)</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div> 
              </div>
              <div class="row">
                <div class="col-9">
                  <label>Depending on the controller/processor relationship, do you have a Data Processing Agreement or a Joint Controller Agreement in place?</label>
                </div>
                <div class="col-3">
                  <mat-checkbox formControlName="DataProcessing_JointController_Agreement" class="MandatorySelect"></mat-checkbox>
                </div> 
              </div>
              <div class="row">
                <div class="col-9">
                  <label>Does the contract highlight the importance of confidentiality?</label>
                </div>
                <div class="col-3">
                  <mat-checkbox formControlName="Confidentiality_Importance_Highlighted" class="MandatorySelect"></mat-checkbox>
                </div> 
              </div>
              <div class="row">
                <div class="col-9">
                  <label>Does the contract provide for audits and inspections?</label>
                </div>
                <div class="col-3">
                  <mat-checkbox formControlName="Contract_Audits_Provisions_Provided" class="MandatorySelect"></mat-checkbox>
                </div> 
              </div>
              <div class="row">
                <div class="col-9">
                  <label>Is it clear who is accountable and liable for different activities?</label>
                </div>
                <div class="col-3">
                  <mat-checkbox formControlName="Activity_Liability_Present" class="MandatorySelect"></mat-checkbox>
                </div> 
              </div>
              <div class="row">
                <div class="col-9">
                  <label>Is there a provision to cover third party processing of data?</label>
                </div>
                <div class="col-3">
                  <mat-checkbox formControlName="Third_Party_Data_Processing_Provisioned" class="MandatorySelect"></mat-checkbox>
                </div> 
              </div>
              <div class="row">
                <div class="col-9">
                  <label>Does a process exist for managing data when the contract ends?</label>
                </div>
                <div class="col-3">
                  <mat-checkbox formControlName="Contract_End_Data_Management_Provided" class="MandatorySelect"></mat-checkbox>
                </div> 
              </div>
              <div class="row">
                <div class="col-9">
                  <label>Is the personal data that's being processed detailed in your and their 'Record of Processing Activities'?</label>
                </div>
                <div class="col-3">
                  <mat-checkbox formControlName="Personal_Data_Processing_Details_Present" class="MandatorySelect"></mat-checkbox>
                </div> 
              </div>
              <div class="row">
                <div class="col-9">
                  <label>Does the supplier hold any form of certification for their processing activities?</label>
                </div>
                <div class="col-3">
                  <mat-checkbox formControlName="Processing_Activities_Certification_Held" class="MandatorySelect"></mat-checkbox>
                </div> 
              </div>
            </div>          
            </mat-expansion-panel>
          </tr>
          <tr>
            <td><label>History of data breaches and security incidents:</label></td>
            <td>              
                <mat-checkbox formControlName="DataSecurityBreachesPresent"></mat-checkbox> 
            </td>
        </tr>
        <tr>
          <td><label>Site visits to assess security controls (if required):</label></td>
          <td>              
              <mat-checkbox formControlName="SiteVisitsPresent"></mat-checkbox> 
          </td>
      </tr>
      </table>  
      <div  style="background-color: white;display: flex;border:1px solid #244688;border-top:0px solid white;width: 810px;justify-content: center;">
          <button id="btnHover" mat-raised-button style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;" matStepperPrevious >Back</button>
          <button mat-raised-button matStepperNext style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;background-color: #94CC5B;" > Next </button>
         </div>      
      </form>
    </mat-step>
    <mat-step [stepControl]="PolicyReviewFormGroup" >
      <form [formGroup]="PolicyReviewFormGroup" style="text-align: -webkit-center;" class="table-responsive">
        <ng-template matStepLabel>POLICY REVIEW</ng-template>
        <table class="table" style="background-color: white;border:1px solid #244688;border-bottom: white;">
          <tr>
              <td><label id="6">Information security or Data protection policy:</label></td>
              <td> 
                    <mat-checkbox formControlName="InformationSecurityPolicyPresent"></mat-checkbox>
              </td>
          </tr>
          <tr>
              <td> <label>Privacy policy:</label></td>
              <td>
                    <mat-checkbox formControlName="PrivacyPolicyPresentPresent"></mat-checkbox>    
              </td>
          </tr>
          <tr>
              <td><label>Data retention and destruction policy:</label></td>
              <td>              
                  <mat-checkbox formControlName="DataRetentionDestructionPolicyPresent"></mat-checkbox> 
              </td>
          </tr>
          <tr>
            <td><label>Anti-bribery and anti-corruption policy:</label></td>
            <td>              
                <mat-checkbox formControlName="AntiBriberyCorruptionPolicyPresent"></mat-checkbox> 
            </td>
        </tr>
        <tr>
          <td><label>Ethics policy:</label></td>
          <td>              
              <mat-checkbox formControlName="EthicsPolicyPresent"></mat-checkbox> 
          </td>
      </tr>
      <tr>
        <td><label>Conflict of interest policy:</label></td>
        <td>              
            <mat-checkbox formControlName="ConflictOfInterestPolicyPresent"></mat-checkbox> 
        </td>
      </tr>
      <tr>
        <td><label>Customer complaints policy:</label></td>
        <td>              
          <mat-checkbox formControlName="CustomerComplaintsPolicyPresent"></mat-checkbox> 
        </td>
      </tr>
      </table>  
      <div  style="background-color: white;display: flex;border:1px solid #244688;border-top:0px solid white;width: 810px;justify-content: center;">
          <button id="btnHover" mat-raised-button style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;" matStepperPrevious >Back</button>
          <button mat-raised-button matStepperNext style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;background-color: #94CC5B;" > Next </button>
         </div>      
      </form>
    </mat-step>
    <mat-step [stepControl]="BusinessReferencesFormGroup" >
      <form [formGroup]="BusinessReferencesFormGroup" style="text-align: -webkit-center;" class="table-responsive">
        <ng-template matStepLabel>BUSINESS REFERENCES</ng-template>
        <table class="table" style="background-color: white;border:1px solid #244688;border-bottom: white;" id="7">
          <tr>
              <td><label >Details of at least two business references:</label></td>
              <td> 
                    <mat-checkbox formControlName="BusinessReferencesPresent"></mat-checkbox>
              </td>
          </tr>
      </table>  
      <div  style="background-color: white;display: flex;border:1px solid #244688;border-top:0px solid white;width: 810px;justify-content: center;">
          <button id="btnHover" mat-raised-button style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;" matStepperPrevious >Back</button>
          <button mat-raised-button matStepperNext style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;background-color: #94CC5B;" > Next </button>
         </div>      
      </form>
    </mat-step>
  <mat-step>
    <ng-template matStepLabel>Done</ng-template>
    <div style="text-align: -webkit-center">
      <p style="margin: 0px;background-color: #244688;color: white;width: 700px;" id="8"><b>*Please ensure that all details are correct*</b></p> 
      <div  style="background-color: white;display: flex;border:1px solid #244688;border-top:0px solid white;width: 700px;justify-content: center;">
        <button id="btnHover" mat-raised-button style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;" matStepperPrevious >Back</button>
        <button mat-raised-button style="margin:1%; display: flex; align-items: center; font-size: 16px; width: 110px;background-color: #94CC5B;" (click)="Create()" > Create </button>
       </div>
    </div> 
    <!-- <p>*Please ensure that all details are correct before adding a new vendor*</p>
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="Create()">Create</button>
    </div> -->
  </mat-step>
</mat-stepper>
</div>